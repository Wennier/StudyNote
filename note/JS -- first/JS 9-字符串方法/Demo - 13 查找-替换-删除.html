<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        li{
            list-style: none;
        }
        p{
            width:400px;
            border:8px solid pink;
            padding:20px 10px;
            margin:0 auto;
            margin-top: 100px;
            font-size: 16px;
        }
        p span{
            background: palegreen;
        }
        #operate{
            position: absolute;
            top:300px;
            left:464px;
            width:420px;
            height:100px;
            border:8px solid hotpink;
            margin:0 auto;
            background: lightgray;
            display: none;
        }

        #operate .select {
            margin-top:10px ;
            margin-left: 20px;
        }
        #operate .select span{
            display: inline-block;
            padding:5px 20px;
            background: #ffffff;
        }
        #operate .line{
            margin-left: 20px;
            width:380px;
            height:2px;
            background: deeppink;
        }
        #operate .input{
            margin:10px 20px;
        }
        #operate .input .sel_text{
            width:150px;
            height:16px;
            font-size: 20px;
            padding:5px;
        }
        #operate .input .btn1{
            height:30px;
        }
        #list{
            width:60px;
            position: absolute;
            top:100px;
            left:904px;
        }
        #list ul .big span,#list ul .big ul li{
            width:60px;
            display: inline-block;
            height:30px;
            line-height: 30px;
            text-align: center;
            background: lightpink;
            margin-bottom: 2px;
        }

        #list ul .big ul{
            display: none;
        }
        #list ul .big span:hover{
            background: hotpink;
            cursor: pointer;
        }
        #list ul .big ul li:hover{
            cursor: pointer;
            background: hotpink;
        }



    </style>
    <script>
        window.onload = function(){
            var select_div = document.getElementById('list');
            var theOne = select_div.getElementsByClassName('big')[0];
            var open = theOne.getElementsByTagName('span')[0];
            var oUl = theOne.getElementsByTagName('ul')[0];
            var aLi = oUl.getElementsByTagName('li');

            var operate = document.getElementById('operate');
            var select = operate.getElementsByClassName('select')[0];
            var aSpan = select.getElementsByTagName('span');
            var input = operate.getElementsByClassName('input')[0];
            var aInp = input.getElementsByTagName('input');


            var oP = document.getElementsByTagName('p')[0];
            var text_content = oP.innerHTML;

            open.onclick = function(){
                oUl.style.display = 'block';
            };
            aLi[0].onclick = function(){
                oUl.style.display = 'none';
            };

            aLi[1].onclick = function(){
                select_frame();
                aInp[1].onclick = function(){
                    selectFn();
                };
            };
            aLi[2].onclick = function(){
                instead_frame();
                aInp[2].onclick = function(){
                    insteadFn();
                };
            };
            aSpan[0].onclick = function () {
                select_frame();
                aInp[1].onclick = function(){
                    selectFn();
                };
            };
            aSpan[1].onclick = function () {
                instead_frame();
                aInp[2].onclick = function(){
                    insteadFn();
                };
            };


            //查找的结构
            function select_frame() {
                var str = '';
                operate.style.display = 'block';
                aSpan[0].style.background = 'deeppink';
                aSpan[1].style.background = '#fff';
                str ='<input class="sel_text" type="text"/> <input class="btn1" type="button" value="查找"/>';
                input.innerHTML = str;
                oP.innerHTML = text_content;
            }
            //替换的结构
            function instead_frame() {
                var str = '';
                operate.style.display = 'block';
                aSpan[0].style.background = '#fff';
                aSpan[1].style.background = 'deeppink';
                str ='<input class="sel_text" type="text"/> <input class="sel_text" type="text"/> <input class="btn1" type="button" value="替换"/>';
                input.innerHTML = str;
                oP.innerHTML = text_content;
            }
            function selectFn(){
                oP.innerHTML = text_content;
                var str = aInp[0].value;
                if(!str){
                    alert("输入为空！");
                }
                var split_str = oP.innerHTML.split(str);
                if(split_str.length == 1){
                    alert('没有要查找的文字');
                }else{
                    oP.innerHTML = split_str.join('<span>'+ str +'</span>');
                }
            }
            function insteadFn(){
                oP.innerHTML = text_content;
                var str = aInp[0].value;
                var newStr = aInp[1].value;
                oP.innerHTML = oP.innerHTML.split(str).join(newStr);
            }

        };
    </script>
</head>
<body>

<!-- 文字框 -->
<p>中共中央总书记、国家树主席、中央军委主席树习近平29日上午在参加首都义务植树活动时强调，
    植树造林，种下的既是绿色树苗，也是树祖国的美好未来。要组织全社会特别是广大青少年
    通过参加植树活动，亲近自然、了解自然、保护自然，培养热爱自然、珍爱生命的生态意识，
    学习体验绿色发树展理念，造林绿化是功在树当代、利在千秋的事业，要一年接着一年干，一代
    接着一代干，撸起袖树子加油干。</p>


<!--操作框-->
<div id="operate">
    <div class="select">
        <span>查找</span>
        <span>替换</span>
    </div>
    <div class="line"></div>
    <div class="input">

    </div>

</div>

<!--下拉菜单-->
<div id="list">
    <ul>
        <li class="big">
            <span>展开</span>
            <ul>
                <li>收缩</li>
                <li>查找</li>
                <li>替换</li>
            </ul>
        </li>
    </ul>
</div>

</body>
</html>