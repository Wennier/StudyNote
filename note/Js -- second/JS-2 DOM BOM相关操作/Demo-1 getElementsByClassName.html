<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		window.onload = function(){

			var oUl1 = document.getElementById('ul1');
			var oUl2 = document.getElementById('ul2');

			var aLi = getElementsByClassName(ul1,"box");

			for(var i = 0;i<aLi.length;i++){
				aLi[i].style.background = 'red';
			}
			alert(aLi.length);
			console.log(aLi);

			function getElementsByClassName (parent,classname ){
				var aEls = parent.getElementsByTagName("*");
				var arr = [];

			 	for(var i = 0; i<aEls.length; i++){
					// if(aEls[i].className == classname){
					// 	arr.push(aEls[i]);
					// }
					// 
					var aClassName = aEls[i].className.split(' ');

					for(var j = 0;j<aClassName.length;j++){
						if(aClassName[j] == classname){
							arr.push(aEls[i]);
							break;
						}
					}
				}
			 return arr;
				

			}
		};
	</script>

	
	<!-- 

		1.只判断遍历到的classname与要查找的是否相同时，假若class=“box box1”是不成立的。所以不能只判断，需改进 
		2.改进方法是先将遍历到的元素的className根据空格字符分割，再循环遍历进行判断是否相等，缺陷是当某个元素的属性class="box box"改元素会被放进数组两次
		3.改进方法就是当把某个已经相等的元素push进数组后，直接跳出内层循环

	-->

	 
</head>
<body>

<ul id="ul1">
	<li class="box">111111111</li>
	<li class="box1">222222222</li>
	<li>33333333333</li>
	<li class="box box2">444444444</li>
</ul>
<ul id="ul2">
	<li class="box">111111111</li>
	<li class="box1">222222222</li>
	<li>33333333333</li>
	<li class="box box2">444444444</li>
</ul>
	
</body>
</html>